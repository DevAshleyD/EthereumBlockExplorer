(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{147:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(63),s=t.n(r),o=(t(74),t(7)),l=(t(75),t(22)),i=t(23),u=t(28),m=t(27),p=t(9),b=t.n(p),f=t(29),d=t.n(f),E=(t(16),t(10)),k=function(e){var a=e.block,t=e.time;return console.log(a),c.a.createElement(E.Animated,{animationIn:"fadeInUpBig",animationInDuration:400,animationInDelay:40*t},c.a.createElement("div",{className:d.a.block},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",null,"Hash:")," "+a.Hash.slice(0,8)+"..."+a.Hash.slice(60)),c.a.createElement("li",null,c.a.createElement("span",null,"Block Number:")," "," "+a.Number),c.a.createElement("li",null,c.a.createElement("span",null,"Nonce:")," "," "+a.Nonce)),c.a.createElement("div",{className:d.a.blockTransactions},c.a.createElement("h3",{className:d.a.transactionNumber},"Transactions"))))},h=t(64),_=t.n(h),v=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state={blockData:[]},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/blocks").then((function(a){e.setState({blockData:a.data})}))}},{key:"render",value:function(){var e=this.state.blockData;return c.a.createElement("div",{className:_.a.blocksWrapper},e.map((function(e,a){return c.a.createElement(k,{time:a,block:e})})))}}]),t}(c.a.Component),O=t(15),N=t.n(O),g=t(24),B=t(68),T=t(18),I=t(30),S=t.n(I),x=function(e){var a=e.block,t=e.time,n=e.isVisible,r=0;return a.Transactions&&(r=a.Transactions.length),c.a.createElement(E.Animated,{animationIn:"bounceInRight",animationOut:"flipOutX",animationInDuration:800,animationInDelay:150*t,animationOutDelay:150*t,isVisible:n},c.a.createElement("div",{className:S.a.block},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",null,"Hash:")," "+a.Hash.slice(0,8)+"..."+a.Hash.slice(60)),c.a.createElement("li",null,c.a.createElement("span",null,"Block Number:")," "," "+a.Number),c.a.createElement("li",null,c.a.createElement("span",null,"Nonce:")," "," "+a.Nonce)),c.a.createElement("div",{className:S.a.blockTransactions},c.a.createElement("h3",{className:S.a.transactionNumber},r," Transactions"))))},W=t(38),j=t.n(W),y=t(8),w=t(26),D=t.n(w),V=function(e){var a=e.transaction,t=e.time,n=e.isVisible;return c.a.createElement(E.Animated,{animationIn:"fadeInUp",animationOut:"fadeOutDown",animationInDelay:150*t,animationOutDelay:150*t,isVisible:n},c.a.createElement("div",{className:D.a.transaction},c.a.createElement("ul",null,c.a.createElement("li",null,"From: "+a.From),c.a.createElement("li",null,"To: "+a.To),c.a.createElement("li",null,"Value: "+(Number(a.Value)/1e18).toString()+" ETH"))))},H=function(){var e=Object(n.useState)(!0),a=Object(y.a)(e,2),t=a[0],r=a[1],s=Object(n.useState)([]),l=Object(y.a)(s,2),i=l[0],u=l[1];function m(e){return new Promise((function(a){setTimeout((function(){a("")}),e)}))}var p=function(){var e=Object(g.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/recentblocks");case 3:return a=e.sent,r(!0),u(a.data[0].Transactions.slice(0,20)),e.next=8,m(1e4).then((function(){return r(!1)}));case 8:return e.next=10,m(2e3);case 10:return e.next=12,p();case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),c.a.createElement("div",{className:D.a.transactionsWrapper},i.map((function(e,a){return c.a.createElement(o.b,{key:a,to:{pathname:"/transaction/".concat(e.Hash),state:{transaction:e}}},c.a.createElement(V,{time:a,transaction:e,isVisible:t}))})))},R=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state={blocks:[],isVisible:!0},e.loadRecentBlocks=e.loadRecentBlocks.bind(Object(T.a)(e)),e.loadOutBlocks=e.loadOutBlocks.bind(Object(T.a)(e)),e.blocksQueue=[],e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadRecentBlocks(),this.socket=function(){var e;return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})),e=new WebSocket("wss://guarded-plains-39628.herokuapp.com/ws"),console.log("Attempting Connection..."),e.onopen=function(){console.log("Successfully Connected"),e.send("test")},e.onclose=function(e){console.log("Socket Closed Connection: ",e)},e.onerror=function(e){console.log("Socket Error: ",e)},e}(),this.socket.onmessage=function(a){if(e.blocksQueue.push(JSON.parse(a.data)),console.log(e.blocksQueue),4===e.blocksQueue.length){var t=Object(B.a)(e.blocksQueue);e.blocksQueue=[],e.setState({isVisible:!1}),setTimeout((function(){e.setState({blocks:t,isVisible:!0})}),2e3)}}}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"loadRecentBlocks",value:function(){var e=Object(g.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/recentblocks");case 3:a=e.sent,this.setState({blocks:a.data,isVisible:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadOutBlocks",value:function(){this.setState({isVisible:!1})}},{key:"render",value:function(){var e=this,a=this.state.blocks;return c.a.createElement("div",{className:j.a.wrapper},c.a.createElement("h1",null,"Recent Blocks"),c.a.createElement("div",{className:j.a.blocksWrapper},a.map((function(a,t){return c.a.createElement(x,{key:t,time:t,block:a,isVisible:e.state.isVisible})}))),c.a.createElement("div",null,c.a.createElement("h1",null,"Recent Transactions"),c.a.createElement(H,null)))}}]),t}(c.a.Component),C=t(41),A=t.n(C),L=function(){return c.a.createElement("div",{className:A.a.sideBarWrapper},c.a.createElement("ul",{className:A.a.sideBarList},c.a.createElement(o.b,{to:"/index"},c.a.createElement("li",null,"Last 100 Blocks")," ")))},F=t(31),Q=t.n(F),K=t(66),U=t.n(K),J=t(1),P=Object(J.g)((function(e){var a=Object(n.useState)(""),t=Object(y.a)(a,2),r=t[0],s=t[1];return c.a.createElement("form",{className:U.a.searchBarWrapper,onSubmit:function(a){a.preventDefault(),e.history.push("/transactions/".concat(r)),s("")},spellCheck:"false"},c.a.createElement("input",{onChange:function(e){s(e.currentTarget.value)},type:"text",value:r,placeholder:"Enter Tx Hash, Sender Address, Receiver Address..."}))})),M=function(){return c.a.createElement("header",{className:Q.a.headerWrapper},c.a.createElement("div",{className:Q.a.left},"Block Explorer"),c.a.createElement(P,null),c.a.createElement("div",{className:Q.a.right},"Info"))},X=t(67),q=t.n(X),Y=Object(J.g)((function(e){var a=Object(n.useState)([]),t=Object(y.a)(a,2),r=t[0],s=t[1];Object(n.useEffect)((function(){o()}),[e.match.params.search]);var o=function(){b.a.get("/api/transactions",{params:{searchQuery:e.match.params.search}}).then((function(e){console.log(e),s(e.data)}))};return c.a.createElement("div",{className:q.a.transactionsWrapper},r.map((function(e,a){return c.a.createElement(V,{key:a,time:a,transaction:e,isVisible:!0})})))})),z=t(32),G=t.n(z),Z=function(){var e=Object(n.useState)(null),a=Object(y.a)(e,2),t=a[0],r=a[1],s=Object(J.f)();return console.log(s),Object(n.useEffect)((function(){s.state&&r(s.state.transaction)}),[]),c.a.createElement("div",{className:G.a.transactionWrapper},c.a.createElement(E.Animated,{animationIn:"fadeInUp",animationOut:"fadeOutDown",className:G.a.animationWrapper},null!==t?c.a.createElement("ul",{className:G.a.transactionInfo},c.a.createElement("li",null,"TxHash: "+t.From),c.a.createElement("li",null,"From: "+t.From),c.a.createElement("li",null,"To: "+t.To),c.a.createElement("li",null,"Value: "+(Number(t.Value)/1e18).toString()+" ETH")):null))};var $=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(M,null),c.a.createElement("div",{className:"mainContent"},c.a.createElement(L,null),c.a.createElement(J.c,null,c.a.createElement(J.a,{path:"/index",component:v}),c.a.createElement(J.a,{path:"/transactions/:search",component:Y}),c.a.createElement(J.a,{path:"/transaction/:hash",component:Z}),c.a.createElement(J.a,{path:"/",component:R}))))};s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,null,c.a.createElement($,null))),document.getElementById("root"))},26:function(e,a,t){e.exports={transactionsWrapper:"RecentTransactions_transactionsWrapper__3gA9g",transaction:"RecentTransactions_transaction__YijC8"}},29:function(e,a,t){e.exports={block:"BlocksIndexItem_block__3CXqP",blockTransactions:"BlocksIndexItem_blockTransactions__2Igw4",transactionNumber:"BlocksIndexItem_transactionNumber__1F67V"}},30:function(e,a,t){e.exports={block:"RecentBlocksItem_block__KpNVr",blockTransactions:"RecentBlocksItem_blockTransactions__1Aae_",transactionNumber:"RecentBlocksItem_transactionNumber__2mL1d"}},31:function(e,a,t){e.exports={headerWrapper:"Header_headerWrapper__2KsTK",left:"Header_left__2Hg0v",right:"Header_right__3N1p-"}},32:function(e,a,t){e.exports={transactionInfo:"TransactionShow_transactionInfo__3sIwr",transactionWrapper:"TransactionShow_transactionWrapper__198g_",animationWrapper:"TransactionShow_animationWrapper__1InxJ"}},38:function(e,a,t){e.exports={blocksWrapper:"RecentBlocks_blocksWrapper__37VME",wrapper:"RecentBlocks_wrapper__1bekF"}},41:function(e,a,t){e.exports={sideBarWrapper:"SideBar_sideBarWrapper__HXgaD",sideBarList:"SideBar_sideBarList__3H1pn"}},64:function(e,a,t){e.exports={blocksWrapper:"BlocksIndex_blocksWrapper__vLBfa"}},66:function(e,a,t){e.exports={searchBarWrapper:"SearchBar_searchBarWrapper__xswkI"}},67:function(e,a,t){e.exports={transactionsWrapper:"TransactionsIndex_transactionsWrapper__3cJDu"}},69:function(e,a,t){e.exports=t(147)},74:function(e,a,t){},75:function(e,a,t){}},[[69,1,2]]]);
//# sourceMappingURL=main.ee240d7a.chunk.js.map