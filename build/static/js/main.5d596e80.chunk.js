(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{148:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(63),o=a.n(r),l=(a(75),a(7)),s=(a(76),a(22)),i=a(23),u=a(28),m=a(27),p=a(9),b=a.n(p),f=a(29),d=a.n(f),E=(a(16),a(10)),k=function(e){var t=e.block,a=e.time;return console.log(t),c.a.createElement(E.Animated,{animationIn:"fadeInUpBig",animationInDuration:400,animationInDelay:40*a},c.a.createElement("div",{className:d.a.block},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",null,"Hash:")," "+t.Hash.slice(0,8)+"..."+t.Hash.slice(60)),c.a.createElement("li",null,c.a.createElement("span",null,"Block Number:")," "," "+t.Number),c.a.createElement("li",null,c.a.createElement("span",null,"Nonce:")," "," "+t.Nonce)),c.a.createElement("div",{className:d.a.blockTransactions},c.a.createElement("h3",{className:d.a.transactionNumber},"Transactions"))))},h=a(64),_=a.n(h),v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={blockData:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/blocks").then((function(t){e.setState({blockData:t.data})}))}},{key:"render",value:function(){var e=this.state.blockData;return c.a.createElement("div",{className:_.a.blocksWrapper},e.map((function(e,t){return c.a.createElement(k,{time:t,block:e})})))}}]),a}(c.a.Component),O=a(15),N=a.n(O),g=a(24),B=a(69),T=a(18),I=a(30),x=a.n(I),S=function(e){var t=e.block,a=e.time,n=e.isVisible,r=0;return t.Transactions&&(r=t.Transactions.length),c.a.createElement(E.Animated,{animationIn:"bounceInRight",animationOut:"flipOutX",animationInDuration:800,animationInDelay:150*a,animationOutDelay:150*a,isVisible:n},c.a.createElement("div",{className:x.a.block},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",null,"Hash:")," "+t.Hash.slice(0,8)+"..."+t.Hash.slice(60)),c.a.createElement("li",null,c.a.createElement("span",null,"Block Number:")," "," "+t.Number),c.a.createElement("li",null,c.a.createElement("span",null,"Nonce:")," "," "+t.Nonce)),c.a.createElement("div",{className:x.a.blockTransactions},c.a.createElement("h3",{className:x.a.transactionNumber},r," Transactions"))))},j=a(38),W=a.n(j),w=a(65),y=a(8),D=a(26),V=a.n(D),H=function(e){var t=e.transaction,a=e.time,n=e.isVisible;return c.a.createElement(E.Animated,{animationIn:"fadeInUp",animationOut:"fadeOutDown",animationInDelay:150*a,animationOutDelay:150*a,isVisible:n},c.a.createElement("div",{className:V.a.transaction},c.a.createElement("ul",null,c.a.createElement("li",null,"From: "+t.From),c.a.createElement("li",null,"To: "+t.To),c.a.createElement("li",null,"Value: "+(Number(t.Value)/1e18).toString()+" ETH"))))},R=function(){var e=Object(n.useState)(!0),t=Object(y.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),s=Object(y.a)(o,2),i=s[0],u=s[1];function m(e){return new Promise((function(t){setTimeout((function(){t("")}),e)}))}var p=function(){var e=Object(g.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/recentblocks");case 3:return t=e.sent,r(!0),u(t.data[0].Transactions.slice(0,20)),e.next=8,m(1e4).then((function(){return r(!1)}));case 8:return e.next=10,m(2e3);case 10:return e.next=12,p();case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),c.a.createElement("div",{className:V.a.transactionsWrapper},i.map((function(e,t){return c.a.createElement(l.b,{key:t,to:{pathname:"/transaction/".concat(e.Hash),state:{transaction:e}}},c.a.createElement(H,{time:t,transaction:e,isVisible:a}))})))},C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={blocks:[],isVisible:!0},e.loadRecentBlocks=e.loadRecentBlocks.bind(Object(T.a)(e)),e.loadOutBlocks=e.loadOutBlocks.bind(Object(T.a)(e)),e.blocksQueue=[],e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadRecentBlocks(),this.socket=function(){var e;return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})),e=new w.a(window.location.protocol.replace("http","ws")+"//"+window.location.host+"/ws"),console.log("Attempting Connection..."),e.onopen=function(){console.log("Successfully Connected"),e.send("test")},e.onclose=function(e){console.log("Socket Closed Connection: ",e)},e.onerror=function(e){console.log("Socket Error: ",e)},e}(),this.socket.onmessage=function(t){if(e.blocksQueue.push(JSON.parse(t.data)),console.log(e.blocksQueue),4===e.blocksQueue.length){var a=Object(B.a)(e.blocksQueue);e.blocksQueue=[],e.setState({isVisible:!1}),setTimeout((function(){e.setState({blocks:a,isVisible:!0})}),2e3)}}}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"loadRecentBlocks",value:function(){var e=Object(g.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/recentblocks");case 3:t=e.sent,this.setState({blocks:t.data,isVisible:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadOutBlocks",value:function(){this.setState({isVisible:!1})}},{key:"render",value:function(){var e=this,t=this.state.blocks;return c.a.createElement("div",{className:W.a.wrapper},c.a.createElement("h1",null,"Recent Blocks"),c.a.createElement("div",{className:W.a.blocksWrapper},t.map((function(t,a){return c.a.createElement(S,{key:a,time:a,block:t,isVisible:e.state.isVisible})}))),c.a.createElement("div",null,c.a.createElement("h1",null,"Recent Transactions"),c.a.createElement(R,null)))}}]),a}(c.a.Component),A=a(41),L=a.n(A),F=function(){return c.a.createElement("div",{className:L.a.sideBarWrapper},c.a.createElement("ul",{className:L.a.sideBarList},c.a.createElement(l.b,{to:"/index"},c.a.createElement("li",null,"Last 100 Blocks")," ")))},Q=a(31),K=a.n(Q),U=a(67),J=a.n(U),P=a(1),M=Object(P.g)((function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),r=a[0],o=a[1];return c.a.createElement("form",{className:J.a.searchBarWrapper,onSubmit:function(t){t.preventDefault(),e.history.push("/transactions/".concat(r)),o("")},spellCheck:"false"},c.a.createElement("input",{onChange:function(e){o(e.currentTarget.value)},type:"text",value:r,placeholder:"Enter Tx Hash, Sender Address, Receiver Address..."}))})),X=function(){return c.a.createElement("header",{className:K.a.headerWrapper},c.a.createElement("div",{className:K.a.left},"Block Explorer"),c.a.createElement(M,null),c.a.createElement("div",{className:K.a.right},"Info"))},q=a(68),Y=a.n(q),z=Object(P.g)((function(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){l()}),[e.match.params.search]);var l=function(){b.a.get("/api/transactions",{params:{searchQuery:e.match.params.search}}).then((function(e){console.log(e),o(e.data)}))};return c.a.createElement("div",{className:Y.a.transactionsWrapper},r.map((function(e,t){return c.a.createElement(H,{key:t,time:t,transaction:e,isVisible:!0})})))})),G=a(32),Z=a.n(G),$=function(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],r=t[1],o=Object(P.f)();return console.log(o),Object(n.useEffect)((function(){o.state&&r(o.state.transaction)}),[]),c.a.createElement("div",{className:Z.a.transactionWrapper},c.a.createElement(E.Animated,{animationIn:"fadeInUp",animationOut:"fadeOutDown",className:Z.a.animationWrapper},null!==a?c.a.createElement("ul",{className:Z.a.transactionInfo},c.a.createElement("li",null,"TxHash: "+a.From),c.a.createElement("li",null,"From: "+a.From),c.a.createElement("li",null,"To: "+a.To),c.a.createElement("li",null,"Value: "+(Number(a.Value)/1e18).toString()+" ETH")):null))};var ee=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(X,null),c.a.createElement("div",{className:"mainContent"},c.a.createElement(F,null),c.a.createElement(P.c,null,c.a.createElement(P.a,{path:"/index",component:v}),c.a.createElement(P.a,{path:"/transactions/:search",component:z}),c.a.createElement(P.a,{path:"/transaction/:hash",component:$}),c.a.createElement(P.a,{path:"/",component:C}))))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,null,c.a.createElement(ee,null))),document.getElementById("root"))},26:function(e,t,a){e.exports={transactionsWrapper:"RecentTransactions_transactionsWrapper__3gA9g",transaction:"RecentTransactions_transaction__YijC8"}},29:function(e,t,a){e.exports={block:"BlocksIndexItem_block__3CXqP",blockTransactions:"BlocksIndexItem_blockTransactions__2Igw4",transactionNumber:"BlocksIndexItem_transactionNumber__1F67V"}},30:function(e,t,a){e.exports={block:"RecentBlocksItem_block__KpNVr",blockTransactions:"RecentBlocksItem_blockTransactions__1Aae_",transactionNumber:"RecentBlocksItem_transactionNumber__2mL1d"}},31:function(e,t,a){e.exports={headerWrapper:"Header_headerWrapper__2KsTK",left:"Header_left__2Hg0v",right:"Header_right__3N1p-"}},32:function(e,t,a){e.exports={transactionInfo:"TransactionShow_transactionInfo__3sIwr",transactionWrapper:"TransactionShow_transactionWrapper__198g_",animationWrapper:"TransactionShow_animationWrapper__1InxJ"}},38:function(e,t,a){e.exports={blocksWrapper:"RecentBlocks_blocksWrapper__37VME",wrapper:"RecentBlocks_wrapper__1bekF"}},41:function(e,t,a){e.exports={sideBarWrapper:"SideBar_sideBarWrapper__HXgaD",sideBarList:"SideBar_sideBarList__3H1pn"}},64:function(e,t,a){e.exports={blocksWrapper:"BlocksIndex_blocksWrapper__vLBfa"}},67:function(e,t,a){e.exports={searchBarWrapper:"SearchBar_searchBarWrapper__xswkI"}},68:function(e,t,a){e.exports={transactionsWrapper:"TransactionsIndex_transactionsWrapper__3cJDu"}},70:function(e,t,a){e.exports=a(148)},75:function(e,t,a){},76:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.5d596e80.chunk.js.map